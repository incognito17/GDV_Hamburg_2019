---
layout: page
title:  "Vergnügungsviertel in Hamburg"
subheadline: Einkommen und Entfernung zur Stadtmitte
teaser: "Besteht ein Zusammenhang zwischen dem durchschnittlichen Einkommen einzelner Stadtteile und deren Unterhaltungs-angeboten? Sind die „gutverdienenden“ Stadtteile in Hamburg weit außerhalb, oder direkt im Zentrum? Wie wirkt sich das auf die Unterhaltungsangebote aus?"
header: no
show_meta: false
categories:
    - projects
image:
    title: meinProjekt/template-teaser.jpg
    caption: Teaser
author: Sergej Kryvoruchko &amp; Michell Skorna &amp; Anderer Dude 1 &amp; Anderer Dude 2
---
[Abstract 50-100 Wörter] Besteht ein Zusammenhang zwischen dem durchschnittlichen Einkommen einzelner Stadtteile und deren Unterhaltungs-angeboten? Sind die „gutverdienenden“ Stadtteile in Hamburg weit außerhalb, oder direkt im Zentrum? Wie wirkt sich das auf die Unterhaltungsangebote aus?

<!--- (Sie können für Ihre Dokumentation sämtliche Auszeichnungen von **Markdown** nutzen.) --->

## Einführung
_text goes here..._

## Motivation und Konzept
_text goes here..._


## Daten und Auswertung
_text goes here..._

### Datenquellen
Für die Daten haben wir drei Quellen.
* [Statistik-Nord](http://www.statistik-nord.de/fileadmin/maps/Stadtteil_Profile_2018/atlas.html)
    * Einkommen pro Steuerpflichtigen nach Stadtteilen
    * Offizielle Seite der Länder, daher vermutlich korrekt
    * Nur kleine Anpassungen nötig
* [Overpass-Turbo](https://overpass-turbo.eu/s/K2y)
    * "Points Of Interest", wie Bars, Diskotheken, Kinos, Museen, Theater.
    * API-Anfragen via Python als Möglichkeit, alle "Nodes" (POIs) für jeden Stadtteil jeweils einzeln zu erfragen.
    * Vollständigkeit schwer zu überprüfen, scheint jedoch gegeben zu sein.
* [Github](https://gist.github.com/webtobesocial/935759ba975ffd9f6df6d1059fe5ad82)
    * GeoJSON-Daten für Choroplethenkarte
    * Akkurate Darstellung der Hamburger Stadtteile
* [GeoPy-Geocoders](https://pypi.org/project/geopy/)
    * Zur Berechnung der Entfernung einzelner Stadtteile zum geographischen Mittelpunkt Hamburgs

### Datenerhebung und -aufbereitung
_text goes here..._

#### Overpass-Turbo API-Anfragen
* [Executable Python-File](https://raw.githubusercontent.com/informatik-mannheim/gdv-ss2019-hamburg/master/data/skorna.py?token=AI7J2BUYLD4H3KGMB4NMCXC5CJ32S)
* [Overpass-API-Skript](https://raw.githubusercontent.com/informatik-mannheim/gdv-ss2019-hamburg/master/data/overpass_api.py?token=AI7J2BX4CWGWV2SIAD7YXVS5CJ3WE)

Es musste ein Skript geschrieben werden, da Overpass-Turbo keine Möglichkeit bietet, knapp einhundert Anfragen automatisch zu versenden und auszulesen.<br/>
Mit diesem Skript werden für die Hamburger Stadtteile die Entfernung zu der Stadtmitte Hamburgs berechnet und mittels Overpass-Turbo(-API) die vorkommenden "Points of Interests" (POIs) gezählt und ausgegeben. Daraus wird dann eine CSV-Datei mit dem Header `Stadtteil,Stadtbezirk,Stadt,Land,Entfernung,Bars,Diskotheken,Kinos,Theater,Museen` generiert.

Der Lesbarkeit halber wurden zwei Dateien für das Skript angelegt und die Generierungsfunktion `hamburg_POIs_count_fast(keywords, stadtteil)` ausgelagert.

#### Skript zum CSV-Join
* [CSV-Join-Skript](https://raw.githubusercontent.com/informatik-mannheim/gdv-ss2019-hamburg/master/data/einkommen_entfernung.py?token=AI7J2BSAJU5UZQ66LG4XN2K5CJ3VM)

Mit diesem Skript wird die Datenverarbeitung in der Implementierungsphase vereinfacht.<br/>
Das Skript fügt zwei ähnliche CSV-Dateien und deren über einen gemeinsamen Nenner (z.B. den Stadtteilnamen) zusammen. Das Skript wurde genutzt, die Daten aus GeoPy mit den Daten von Statistik-Nord automatisiert zusammenzulegen. Der neue CSV-Header ist dann `Stadtgebiet,Einkünfte,Entfernung`.<br/>
Die Join-Logik entspricht einem Inner Join. Stadtgebiet ist gleichbedeutend mit Stadtteil.

#### Änderungen des Datensatzes
Der Stadtteil "Hamburg-Neuwerk" wurde aus dem Datensatz entfernt.<br/>
Als 100 km entfernte Exklave mit nur 36 Einwohnern spielt Neuwerk für unsere Datenanalyse keine Relevanz und kann als Ausreißer auch in der Visualisierung vernachlässigt werden.<br/>
Zur statistischen Auswertung der Daten, wurden temporäre Änderungen vorgenommen, was im Bereich [Ergebnisse](#Ergebnisse) genauer erklärt ist.

## Prototypen und Ergebnisse
_text goes here..._

### Visualisierung
_text goes here..._
#### Choroplethenkarte
_text goes here..._
#### Scatterplots
_text goes here..._

### Implementierung
_text goes here..._

### Ergebnisse
_text goes here..._<br/>_...nur teilweise fertig..._<br/>
Besonders interessant ist hierbei die statistische Signifikanz des durchschnittlichen Einkommens in Relation zur Entfernung zur Stadtmitte.<br/>
Der komplette Einkommensdatensatz mit allen 104 Stadtteilen weist eine Signifikanz von _p = 0.09312_ auf und ist damit als "nicht signifikant" zu betrachten.
Entfernt man nun die 9 wohlhabensten Stadtteile, welche mit einem Einkommen von über 75'000€/Jahr -- fast um das Doppelte über dem bundesdeutschen Durchschnitt der Vollzeitarbeitnehmer (45'240€/Jahr) liegen -- ist der Datensatz mit _p = 0.01065_ statistisch signifikant. Der _Signifikanzwert p_ ist im gesamten Datensatz jeweils _p < 0.1_, weswegen man von einem Trend sprechen kann. Demnach lässt sich vermuten, dass Menschen umso mehr verdienen, je weiter sie vom Stadtzentrum aus weg wohnen.


## Fazit


## Credits
### Team
Kryvoruchko, Sergej<br/>
Skorna, Michell<br/>
Karl, Simon<br/>
Streitmatter, Patrick<br/>
### Kurs, Dozent, Institution
Grundlagen der Datenvisualisierung - Sommersemester 2019<br/>
Prof. Dr. Till Nagel<br/>
Hochschule Mannheim<br/>

<br/>
<!-- https://i.imgur.com/IM19W7o.png --> 
<br/>
########################## 
<br/>
<br/>
## Einführung / Konzept
- Einführung: Was ist die Motivation hinter Ihrem Projekt?
- Konzept: Was ist die Grundidee, Hauptfrage, wichtigste Hypothese?

## Daten / Auswertung

### Daten
Quellen, Erhebung, Parsing, Aggregation, ...

Wir haben die Daten von [OpenStreetMap](http://openstreetmap.org/) genutzt, ...

### Prozess
Sinnvolle Auswahl relevanter Experimente.

<figure>
  <img src="{{ site.urlimg }}/meinProjekt/template-image1.jpg" />
  <figcaption >Eine Bildbeschreibung</figcaption>
</figure>

## Prototyp / Ergebnisse

### Visualisierung
Ergebnisse, Design, Prototyp. Darstellungen echter oder ausgewählter Daten.

### Erkenntnisse
Was haben Sie herausgefunden? Können Sie ein/zwei Aussagen oder Stories hervorheben?

### Implementierung
Wie haben Sie die Visualisierung umgesetzt? Welche Tools haben Sie für welche Schritte eingesetzt?


{% highlight javascript %}
function setup() {
  Data data = loadData();
  doSomeVisualization(data);
}
{% endhighlight %}


## Fazit
- Reflektion: Haben Sie erreicht, was sie wollten? Ist Ihr Ergebnis hilfreich?
- Ausblick: Welche weiteren Ideen haben Sie? Was könnten interessante
nächste Schritte sein?